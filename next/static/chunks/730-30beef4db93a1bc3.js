"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[730],{373:(e,t,a)=>{a.d(t,{JR:()=>r,eo:()=>n});let r="/api",n="https://diangraha-be-production.up.railway.app"},4329:(e,t,a)=>{a.d(t,{A:()=>f});var r=a(5155),n=a(2115),s=a(2619),l=a.n(s),o=a(63),i=a(5993),c=a(3270),d=a(8648),m=a(6613),h=a(9141),x=a(5229);function f(e){let{sidebarOpen:t,onToggle:a}=e,[s,f]=(0,n.useState)(!1),u=(0,o.usePathname)();(0,n.useEffect)(()=>{let e=()=>f(window.innerWidth<768);return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let g=[{href:"/dashboard",label:"Dashboard",icon:(0,r.jsx)(i.A,{className:"w-5 h-5"})},{href:"/admin/services",label:"Service Management",icon:(0,r.jsx)(c.A,{className:"w-5 h-5"})},{href:"/admin/clients",label:"Client Management",icon:(0,r.jsx)(d.A,{className:"w-5 h-5"})},{href:"/admin/achievements",label:"Achievement Management",icon:(0,r.jsx)(m.A,{className:"w-5 h-5"})},{href:"/admin/contacts",label:"Contact Management",icon:(0,r.jsx)(h.A,{className:"w-5 h-5"})}];return(0,r.jsxs)(r.Fragment,{children:[s&&t&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black/50 z-[190] md:hidden",onClick:()=>a(!1)}),(0,r.jsxs)("aside",{className:"".concat(s?"\n              fixed top-0 left-0 h-screen w-64 \n              bg-gradient-to-b from-blue-700 via-blue-600 to-blue-500 \n              text-white z-[200] shadow-lg \n              transform transition-transform duration-300 ease-in-out \n              ".concat(t?"translate-x-0":"-translate-x-full","\n            "):"\n              fixed top-0 left-0 h-screen \n              bg-gradient-to-b from-blue-700 via-blue-600 to-blue-500 \n              text-white shadow-lg z-[100] \n              transition-all duration-300 ease-in-out \n              ".concat(t?"w-72":"w-24","\n            ")),children:[!s&&(0,r.jsxs)("div",{className:"flex flex-col h-full",children:[t?(0,r.jsxs)("div",{className:"p-4 border-b border-blue-400/20 flex items-center gap-3",children:[(0,r.jsx)("div",{className:"bg-white text-blue-700 rounded-full w-10 h-10 flex items-center justify-center font-bold text-sm",children:"DGE"}),(0,r.jsx)("h2",{className:"text-[11px] font-semibold tracking-wide",children:"Admin Panel"})]}):(0,r.jsx)("div",{className:"p-4 flex justify-center border-b border-blue-400/20",children:(0,r.jsx)("div",{className:"bg-white text-blue-700 rounded-full w-10 h-10 flex items-center justify-center font-bold text-sm shadow-sm",children:"DGE"})}),(0,r.jsx)("div",{className:"flex-1 flex flex-col ".concat(t?"justify-start mt-4":"justify-start mt-2"," overflow-y-auto px-2"),children:(0,r.jsx)("nav",{className:"flex flex-col gap-2 ".concat(t?"":"items-center"),children:g.map(e=>(0,r.jsxs)(l(),{href:e.href,className:"flex items-center py-2 rounded-md transition-colors duration-150 ".concat(u===e.href?"bg-white/20 text-white":"text-blue-100 hover:bg-white/10 hover:text-white"," ").concat(t?"pl-3 pr-2":"justify-center w-full"),children:[(0,r.jsx)("span",{className:"flex items-center justify-center w-6 min-w-6 ".concat(t?"mr-3":""),children:e.icon}),t&&(0,r.jsx)("span",{className:"truncate text-sm leading-none tracking-wide",children:e.label})]},e.href))})}),(0,r.jsx)("div",{className:"p-4 text-[10px] text-blue-200 text-center border-t border-blue-400/20",children:"\xa9 2025 DGE Admin"})]}),s&&(0,r.jsxs)("div",{className:"flex flex-col h-full",children:[(0,r.jsxs)("div",{className:"p-4 border-b border-blue-400/20 flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"bg-white text-blue-700 rounded-full w-10 h-10 flex items-center justify-center font-bold text-sm",children:"DGE"}),(0,r.jsx)("h2",{className:"text-[11px] font-semibold tracking-wide",children:"Admin Panel"})]}),(0,r.jsx)("button",{onClick:()=>a(!1),className:"p-1.5 hover:bg-blue-600/40 rounded-lg transition",children:(0,r.jsx)(x.A,{className:"w-5 h-5 text-white"})})]}),(0,r.jsx)("nav",{className:"mt-4 flex flex-col gap-2 px-2 overflow-y-auto",children:g.map(e=>(0,r.jsxs)(l(),{href:e.href,onClick:()=>a(!1),className:"flex items-center py-2 rounded-md transition-colors duration-150 ".concat(u===e.href?"bg-white/20 text-white":"text-blue-100 hover:bg-white/10 hover:text-white"," pl-4 pr-3"),children:[(0,r.jsx)("span",{className:"flex items-center justify-center w-6 min-w-6 mr-3",children:e.icon}),(0,r.jsx)("span",{className:"truncate text-xs leading-tight font-medium",children:e.label})]},e.href))}),(0,r.jsx)("div",{className:"mt-auto p-4 text-[10px] text-blue-200 text-center border-t border-blue-400/20",children:"\xa9 2025 DGE Admin"})]})]})]})}},5820:(e,t,a)=>{a.d(t,{A:()=>h});var r=a(5155),n=a(8661),s=a.n(n),l=a(2115),o=a(9540),i=a(508),c=a(4033),d=a(4926),m=a(9497);function h(e){let{title:t,user:a,onLogout:n,sidebarOpen:h=!0,onToggle:x}=e,[f,u]=(0,l.useState)(!1),g=(0,l.useRef)(null),{logout:b}=(0,m.A)();return(0,l.useEffect)(()=>{let e=e=>{g.current&&!g.current.contains(e.target)&&u(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,r.jsxs)("header",{className:"jsx-3daa9ce81625af34 "+"fixed top-0 left-0 right-0 z-[100] bg-white/80 backdrop-blur-md border-b border-gray-200 shadow-sm transition-all duration-300 ease-in-out ".concat(h?"md:ml-72":"md:ml-24"),children:[(0,r.jsxs)("div",{className:"jsx-3daa9ce81625af34 flex items-center justify-between px-4 md:px-6 py-3 w-full overflow-visible",children:[(0,r.jsxs)("div",{className:"jsx-3daa9ce81625af34 flex items-center space-x-3 min-w-0",children:[(0,r.jsx)("button",{onClick:()=>null==x?void 0:x(!h),"aria-label":"Toggle sidebar",className:"jsx-3daa9ce81625af34 p-2 rounded-lg hover:bg-gray-100 transition-colors flex-shrink-0",children:(0,r.jsx)(o.A,{className:"w-5 h-5 text-gray-700"})}),(0,r.jsx)("h1",{className:"jsx-3daa9ce81625af34 text-base md:text-xl font-semibold text-blue-700 truncate",children:t})]}),(0,r.jsxs)("div",{ref:g,className:"jsx-3daa9ce81625af34 relative flex items-center flex-shrink-0",children:[(0,r.jsxs)("button",{onClick:()=>u(e=>!e),className:"jsx-3daa9ce81625af34 flex items-center gap-2 md:gap-3 p-2 rounded-lg hover:bg-gray-100 transition-colors",children:[(0,r.jsx)("div",{className:"jsx-3daa9ce81625af34 bg-blue-600 text-white rounded-full w-9 h-9 flex items-center justify-center font-semibold",children:(null==a?void 0:a.name)?a.name.charAt(0).toUpperCase():(0,r.jsx)(i.A,{className:"w-5 h-5"})}),(0,r.jsxs)("div",{className:"jsx-3daa9ce81625af34 hidden sm:flex flex-col text-left",children:[(0,r.jsx)("p",{className:"jsx-3daa9ce81625af34 font-medium text-gray-900 text-sm leading-tight",children:(null==a?void 0:a.name)||"Admin"}),(0,r.jsx)("p",{className:"jsx-3daa9ce81625af34 text-gray-500 text-xs leading-tight",children:(null==a?void 0:a.role)||"Administrator"})]}),(0,r.jsx)(c.A,{className:"w-4 h-4 text-gray-500 transition-transform ".concat(f?"rotate-180":"")})]}),f&&(0,r.jsx)("div",{className:"jsx-3daa9ce81625af34 absolute top-[calc(100%+0.4rem)] right-0 w-44 bg-white rounded-xl shadow-lg border border-gray-100 z-[200] animate-fadeIn",children:(0,r.jsxs)("button",{onClick:()=>{b(),n(),u(!1)},className:"jsx-3daa9ce81625af34 flex items-center gap-2 w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:[(0,r.jsx)(d.A,{className:"w-4 h-4 text-gray-600"}),(0,r.jsx)("span",{className:"jsx-3daa9ce81625af34",children:"Logout"})]})})]})]}),(0,r.jsx)(s(),{id:"3daa9ce81625af34",children:"@keyframes fadeIn{from{opacity:0;transform:translatey(-4px)}to{opacity:1;transform:translatey(0)}}.animate-fadeIn.jsx-3daa9ce81625af34{animation:fadeIn.15s ease-in-out}"})]})}},7621:(e,t,a)=>{a.d(t,{R2:()=>l,dn:()=>s});var r=a(373);async function n(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let a="".concat(r.JR).concat(e),n=localStorage.getItem("token"),s={...t,headers:{"Content-Type":"application/json",...n&&{Authorization:"Bearer ".concat(n)},...t.headers}},l=await fetch(a,s),o=await l.text(),i=null;if(o)try{i=JSON.parse(o)}catch(e){throw console.error("Invalid JSON response:",o),Error("Invalid JSON response")}if(!l.ok){if(401===l.status)throw localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login",Error("Session expired");let e=(null==i?void 0:i.message)||"API Error: ".concat(l.status);throw Error(e)}return i}catch(e){throw e instanceof Error?e:Error("Network error")}}let s={fetchAchievements:async()=>{try{let e=await fetch("".concat(r.eo,"/api/achievements"),{method:"GET",headers:{accept:"*/*"}});if(!e.ok)throw Error("Failed to fetch achievements: ".concat(e.status));return await e.json()}catch(e){throw e instanceof Error?e:Error("Network error")}}},l={login:async e=>{try{let t=await fetch("".concat(r.eo,"/api/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),a=await t.text(),n=null;if(a)try{n=JSON.parse(a)}catch(e){throw console.error("Invalid JSON from login API:",a),Error("Invalid JSON from login API")}if(!t.ok){let e=(null==n?void 0:n.message)||"Login failed: ".concat(t.status);throw Error(e)}return n}catch(e){throw e instanceof Error?e:Error("Network error")}},logout:async()=>n("/auth/logout",{method:"POST"})}},9497:(e,t,a)=>{a.d(t,{A:()=>s});var r=a(2115),n=a(7621);let s=()=>{let[e,t]=(0,r.useState)(!1),[a,s]=(0,r.useState)(null),[l,o]=(0,r.useState)(!1),i=()=>{let e=localStorage.getItem("token");if(!e)return!0;try{let t=JSON.parse(atob(e.split(".")[1])),a=1e3*t.exp;return Date.now()>a}catch(e){return!0}};return{login:async e=>{try{t(!0),s(null),o(!1);let a=await n.R2.login(e);return a.token&&(localStorage.setItem("token",a.token),localStorage.setItem("user",JSON.stringify(a))),a}catch(e){throw s(e instanceof Error?e.message:"Login failed"),e}finally{t(!1)}},logout:()=>{o(!1),localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"},isTokenExpired:i,handleExpiration:()=>{i()&&o(!0)},isExpired:l,loading:e,error:a}}}}]);